{
  "meta": {
    "name": "Steps4 Visual Design System",
    "version": "1.0.0",
    "sourceOfTruth": [
      "Gallery tab",
      "Tickets tab"
    ],
    "primaryReferenceFiles": [
      "StepsTrader/Views/ChoiceView.swift",
      "StepsTrader/Views/AppsPageSimplified.swift",
      "StepsTrader/Views/MainTabView.swift",
      "StepsTrader/Views/Components/StepBalanceCard.swift",
      "StepsTrader/Models/Types.swift",
      "StepsTrader/Utilities/ColorConstants.swift",
      "StepsTrader/Utilities/Font+Custom.swift"
    ]
  },
  "principles": [
    "Use one emotional canvas across screens: warm-to-dark energy gradient plus grain overlay.",
    "Keep UI chrome light and minimal; content should sit on top of atmosphere, not boxed in heavy cards.",
    "Use high-contrast, factual typography with mostly SF system rounded text and monospaced digits for numbers/timers.",
    "Reserve accent yellow for energy/status and key action signals, not for decorative overuse.",
    "On iOS 26+, prefer Liquid Glass for global chrome (top energy card, tab bar)."
  ],
  "themes": {
    "supported": [
      "system",
      "daylight",
      "night"
    ],
    "appThemeMapping": {
      "system": {
        "backgroundLight": "#F2F2F2",
        "backgroundDark": "#222831",
        "textPrimary": "systemLabel"
      },
      "daylight": {
        "background": "#F2F2F2",
        "backgroundSecondary": "#F3F4F6",
        "textPrimary": "#141414",
        "stroke": "#1F1F1F"
      },
      "night": {
        "background": "#222831",
        "backgroundSecondary": "#30303A",
        "textPrimary": "#F2F2F2",
        "stroke": "#404040"
      }
    },
    "strokeOpacity": 0.15
  },
  "colorTokens": {
    "accent": {
      "brandYellow": "#FFD369",
      "brandYellowAlt": "#FFBF65",
      "ticketUnlockPill": "#FFD369"
    },
    "energyGradient": {
      "goldCore": "#FFBF65",
      "coralMid": "#FD8973",
      "navyOuter": "#003A6C",
      "nightEdge": "#002646",
      "rule": "Background is radial, centered on screen. Steps increase warm center intensity/reach; sleep increases outer darkness."
    },
    "ticketSurface": {
      "frontPaper": "#FFD369",
      "backPaper": "#F2F2F2",
      "iconDisk": "#1C1B1B",
      "settingsDisk": "#222831",
      "inkPrimary": "#000000"
    },
    "overlay": {
      "grainImage": "grain 1",
      "grainOpacityDefault": 0.4,
      "grainOpacityTicketsLayer": 0.28,
      "grainBlendMode": "overlay",
      "modalDim": "rgba(0,0,0,0.4)"
    }
  },
  "typography": {
    "fontFamilies": {
      "primaryUI": "SF Pro / system",
      "preferredDesign": "rounded for human-readable UI labels",
      "numeric": "monospaced digits for counters, timers, balances",
      "customAvailableButNotCoreForGalleryTickets": [
        "ReenieBeanie",
        "BigShouldersStencil",
        "CarterOne",
        "Tourney",
        "UnifrakturCook",
        "VastShadow"
      ]
    },
    "textStyles": {
      "tabIcon": {
        "selected": {
          "size": 24,
          "weight": "semibold"
        },
        "default": {
          "size": 22,
          "weight": "regular"
        }
      },
      "tabLabel": {
        "size": 11,
        "weightSelected": "semibold",
        "weightDefault": "regular"
      },
      "ticketsHeaderTitle": {
        "size": 17,
        "weight": "light",
        "design": "rounded"
      },
      "ticketTitle": {
        "size": 15,
        "weight": "regular",
        "design": "rounded"
      },
      "ticketMeta": {
        "size": 11,
        "weight": "light",
        "design": "rounded"
      },
      "ticketStatus": {
        "size": 11,
        "weight": "light",
        "design": "rounded"
      },
      "unlockPillLabel": {
        "size": 11,
        "weight": "medium",
        "design": "rounded",
        "numeric": "monospacedDigit"
      },
      "galleryEmptyState": {
        "icon": {
          "size": 20,
          "weight": "ultraLight"
        },
        "label": {
          "size": 13,
          "weight": "regular",
          "design": "rounded"
        }
      },
      "topEnergyCard": {
        "eyebrow": "caption2 heavy",
        "balancePrimary": "title3 bold",
        "secondaryValues": "footnote medium/semibold",
        "timer": "caption2 semibold",
        "chipValue": "caption bold (monospacedDigit)"
      }
    }
  },
  "liquidGlassAndMaterials": {
    "ios26Plus": {
      "tabBar": {
        "effect": "glassEffect(.regular)",
        "shape": "RoundedRectangle(cornerRadius: 28)"
      },
      "topEnergyCard": {
        "effect": "glassEffect(.regular)",
        "shape": "RoundedRectangle(cornerRadius: 16)",
        "rule": "Apply glass as background layer only; preserve hit testing on content."
      }
    },
    "fallbackPreIOS26": {
      "tabBar": {
        "material": "ultraThinMaterial",
        "shape": "RoundedRectangle(cornerRadius: 28)"
      },
      "topEnergyCard": {
        "fill": "#1A1A1A",
        "stroke": "white @ 8% opacity",
        "cornerRadius": 16
      }
    }
  },
  "layoutTokens": {
    "globalSpacing": {
      "xs": 4,
      "sm": 8,
      "md": 12,
      "lg": 16,
      "xl": 24
    },
    "screenPadding": {
      "horizontalPrimary": 16
    },
    "tabBar": {
      "innerHorizontalPadding": 8,
      "innerVerticalPadding": 8,
      "outerHorizontalPadding": 12,
      "bottomPadding": 4,
      "itemVerticalPadding": 10
    },
    "topEnergyCard": {
      "contentPaddingHorizontal": 14,
      "contentPaddingVertical": 12,
      "overlayPaddingHorizontal": 16,
      "overlayPaddingTop": 8,
      "overlayPaddingBottom": 8,
      "cornerRadius": 16,
      "progressBarHeight": 10
    },
    "tickets": {
      "headerTopPadding": 20,
      "headerBottomPadding": 8,
      "stackSpacing": 14,
      "cardHeight": 90,
      "cardHorizontalPadding": 14,
      "iconCircle": 38,
      "settingsButtonCircle": 36,
      "scrollBottomSafePadding": 96
    },
    "gallery": {
      "shareButtonSize": 28,
      "shareTrailingPadding": 24,
      "bottomControlPadding": 96
    }
  },
  "componentRules": {
    "backgroundSystem": {
      "requiredLayers": [
        "Energy gradient canvas fills screen",
        "grain 1 texture overlay in blendMode overlay"
      ],
      "doNotUse": [
        "flat monochrome full-screen backgrounds",
        "heavy drop-shadow card stacks as default layout"
      ]
    },
    "topEnergyCard": {
      "role": "Persistent global status and metric launcher",
      "structure": [
        "Header: TODAY/EXP + current/earned/max",
        "Timer with monospaced countdown",
        "Progress bar with filled + outlined spent segment",
        "Expandable metric chip rows on Gallery only"
      ],
      "metricChipStyle": {
        "cornerRadius": 8,
        "background": "primary @ 5% opacity",
        "horizontalPadding": 10,
        "verticalPadding": 7
      }
    },
    "gallery": {
      "coreInteraction": "Long-press radial + menu to add activities; keep center visually open.",
      "emptyStateCopy": "Hold + to begin",
      "buttons": [
        "Share icon button on bottom-right (disabled when empty)."
      ],
      "overlays": {
        "metricPopover": {
          "maxWidth": 320,
          "cornerRadius": 16,
          "padding": 16,
          "background": "theme.backgroundSecondary @ 98% opacity"
        }
      }
    },
    "tickets": {
      "ticketCard": {
        "shapeLanguage": "Capsule-like paper strip with directional ray shading",
        "front": "Yellow paper with black ink and compact metadata",
        "back": "Light paper with unlock controls and settings affordance",
        "interaction": [
          "Tap to flip",
          "Horizontal swipe (>50pt) to flip"
        ]
      },
      "unlockPills": {
        "shape": "Capsule",
        "paddingHorizontal": 10,
        "paddingVertical": 5,
        "stateDisabledOpacity": 0.35
      },
      "emptyState": {
        "title": "No tickets yet",
        "subtitle": "Create one when you're ready.",
        "cta": "New Ticket"
      }
    }
  },
  "motion": {
    "tabSwitch": "easeInOut 0.2",
    "tabSelectionBounce": "spring(response: 0.3, dampingFraction: 0.7)",
    "ticketFlip": "spring(response: 0.5, dampingFraction: 0.75)",
    "topCardExpand": "spring(response: 0.3)",
    "galleryOverlay": "easeInOut 0.2",
    "galleryElementSpawn": "spring(response: 0.5, dampingFraction: 0.8)"
  },
  "copyTone": {
    "style": "short, neutral, factual, non-judgmental",
    "examples": [
      "No tickets yet",
      "Create one when you're ready.",
      "Hold + to begin"
    ],
    "rules": [
      "Avoid motivational/gamified language.",
      "Prefer concise labels over explanatory marketing copy."
    ]
  },
  "implementationChecklistForNewScreens": [
    "Use EnergyGradientBackground plus grain overlay before adding screen-specific content.",
    "Respect theme tokens from AppTheme for text/background/stroke; avoid ad-hoc RGB values.",
    "Use rounded system typography scale from this file; keep number-heavy values monospaced.",
    "Reuse top-level chrome language: liquid glass where available, material fallback otherwise.",
    "Keep spacing on 4/8/12/16/24 grid and default 16 horizontal screen padding.",
    "Prefer capsule and rounded-rectangle geometry (8/12/16/28 radii family).",
    "For interactive cards, preserve compact heights (around 90) and clear tap/gesture affordances.",
    "Use accent yellow only for key signal states (energy, status, unlock actions).",
    "Preserve copy tone: calm, direct, low-pressure."
  ]
}